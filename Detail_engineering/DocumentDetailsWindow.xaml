<Window x:Class="Detail_engineering.DocumentDetailsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Document Details"
        Width="860" Height="520"
        Background="#101218"
        WindowStyle="None" ResizeMode="NoResize" ShowInTaskbar="False">

    <Window.Resources>
        <!-- تم -->
        <SolidColorBrush x:Key="Panel"        Color="#171B34"/>
        <SolidColorBrush x:Key="Text"         Color="#EAF0FF"/>
        <SolidColorBrush x:Key="Accent"       Color="#5DB5FF"/>
        <SolidColorBrush x:Key="BorderColor"  Color="#26305E"/>
        <SolidColorBrush x:Key="Row"          Color="#131C3A"/>
        <SolidColorBrush x:Key="RowAlt"       Color="#0F1631"/>

        <!-- TreeView استایل تیره -->
        <Style TargetType="TreeView">
            <Setter Property="Background" Value="#101218"/>
            <Setter Property="Foreground" Value="{StaticResource Text}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
        <Style TargetType="TreeViewItem">
            <Setter Property="Foreground" Value="{StaticResource Text}"/>
            <Setter Property="Padding" Value="6,3"/>
            <Setter Property="IsExpanded" Value="True"/>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#283B7A"/>
                    <Setter Property="Foreground" Value="#FFFFFF"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- DataGrid تیره -->
        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="#1A2142"/>
            <Setter Property="Foreground" Value="{StaticResource Text}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
        </Style>
        <Style TargetType="DataGridRow">
            <Setter Property="Background" Value="{StaticResource Row}"/>
            <Setter Property="Foreground" Value="{StaticResource Text}"/>
            <Setter Property="BorderBrush" Value="#222C55"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Style.Triggers>
                <Trigger Property="AlternationIndex" Value="1">
                    <Setter Property="Background" Value="{StaticResource RowAlt}"/>
                </Trigger>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#283B7A"/>
                    <Setter Property="BorderBrush" Value="#3C5CC6"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- لینک -->
        <Style TargetType="Hyperlink">
            <Setter Property="Foreground" Value="{StaticResource Accent}"/>
            <Setter Property="TextDecorations" Value="{x:Null}"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="#9AD1FF"/>
                    <Setter Property="TextDecorations" Value="Underline"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Border BorderBrush="{StaticResource BorderColor}" BorderThickness="1" CornerRadius="10" Background="#101218">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="48"/>   <!-- Header -->
                <RowDefinition Height="*"/>    <!-- Content -->
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" Background="{StaticResource Panel}" BorderBrush="{StaticResource BorderColor}"
                    BorderThickness="0,0,0,1" CornerRadius="10,10,0,0">
                <DockPanel>
                    <TextBlock Text="{Binding HeaderTitle}" Foreground="{StaticResource Text}"
                               VerticalAlignment="Center" Margin="12,0" FontWeight="SemiBold"/>
                    <Button Content="✕" Width="32" Height="28" Margin="0,10,10,10"
                            Background="#1F2447" Foreground="{StaticResource Text}"
                            BorderBrush="#2A3162" DockPanel.Dock="Right" Click="Close_Click"/>
                </DockPanel>
            </Border>

            <!-- Content -->
            <Grid Grid.Row="1" Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="260"/>   <!-- Tree -->
                    <ColumnDefinition Width="10"/>    <!-- Gap -->
                    <ColumnDefinition Width="*"/>     <!-- Grid -->
                </Grid.ColumnDefinitions>

                <!-- TreeView -->
                <StackPanel Grid.Column="0">
                    <TextBlock Text="Document / Revisions" Foreground="{StaticResource Text}" Margin="4,0,0,6" />
                    <TreeView x:Name="Tree"
                              ItemsSource="{Binding TreeRoots}"
                              SelectedItemChanged="Tree_SelectedItemChanged">
                        <TreeView.ItemTemplate>
                            <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                                <TextBlock Text="{Binding Title}"/>
                            </HierarchicalDataTemplate>
                        </TreeView.ItemTemplate>
                    </TreeView>
                </StackPanel>

                <!-- DataGrid -->
                <StackPanel Grid.Column="2">
                    <TextBlock Text="Files" Foreground="{StaticResource Text}" Margin="4,0,0,6"/>
                    <DataGrid x:Name="GridFiles"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              IsReadOnly="True"
                              AlternationCount="2"
                              CanUserResizeColumns="False"
                              CanUserSortColumns="False"
                              GridLinesVisibility="Vertical"
                              VerticalGridLinesBrush="#333B66"
                              Background="#101218"
                              Foreground="{StaticResource Text}"
                              BorderBrush="{StaticResource BorderColor}" BorderThickness="1">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="FileName" Width="*"
                                                Binding="{Binding FileName, Mode=OneWay}"/>
                            <DataGridTextColumn Header="FileType" Width="200"
                                                Binding="{Binding FileType, Mode=OneWay}">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="TextAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Grid>
        </Grid>
    </Border>
</Window>
